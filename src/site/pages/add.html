<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Agregar Fabricas</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>

    <link rel="stylesheet" href="../styles/add.css">


</head>


<body>

<div class="container">
    <div class="d-flex align-items-center flex-column">
        <h2>Agregar Una Nueva Fábrica </h2>
        <form class="row g-3">

            <div class="col-md-4">
                <label for="name" class="form-label">Nombre Fábrica</label>
                <input type="text" class="form-control" id="name" placeholder="Nombre" required>
            </div>
            <div class="col-md-4">
                <label for="nemployee" class="form-label">Número de Empleados</label>
                <input type="number" class="form-control" id="nemployee" placeholder="N° Empleados" required>
            </div>
            <div class="col-md-4">
                <label for="hours" class="form-label">Horas de Trabajo en el Día</label>
                <input type="number" class="form-control" id="hours" placeholder="H° de Trabajo" required>
            </div>
            <div class="col-md-4">
                <label for="fabrictype" class="form-label">Tipo de Tela</label>
                <input type="text" class="form-control" id="fabrictype" placeholder="Tipo de Tela" required>
            </div>
            <div class="col-md-4">
                <label for="nmachine" class="form-label">Número de máquina</label>
                <input type="number" class="form-control" id="nmachine" placeholder="N° de Maquinas" required>
            </div>
            <div class="col-md-4">
                <label for="creation" class="form-label">Tiempo de creación de una Prenda</label>
                <input type="number" class="form-control" id="creation" placeholder="Tiempo" required>
            </div>
            <div class="col-md-4">
                <label for="typegarmet" class="form-label">Tipo de prenda</label>
                <input type="text" class="form-control" id="typegarmet" placeholder="Tipo de Prenda" required>
            </div>
            <div class="col-md-4">
                <label for="nunit" class="form-label">Número de Unidades</label>
                <input type="number" class="form-control" id="nunit" placeholder="N° de Unidades" required>
            </div>
            <div class="col-md-4">
                <label for="unitvalue" class="form-label">Valor de la Unidad</label>
                <input type="number" class="form-control" id="unitvalue" placeholder="Valor de la Unidad" required>
            </div>




            <div class="d-grid gap-2 d-sm-flex justify-content-sm-center custom-button-container">

                <input type="submit" value="Agregar" class="btn custom-btn-primary btn-lg px-4 gap-3 mx-auto" onclick="add();">
                <a href="list.html" class="btn custom-btn-secondary btn-lg px-4 mx-auto">Listar Fábricas</a>


            </div>
            <a href="../index.html" class="btn custom-btn-secondary btn-lg px-8 mx-auto">Inicio</a>
        </form>
    </div>

</div>

</body>
</html>
<script>
    function add(){
         console.log("Adicionando");
         var xmlhttp = new XMLHttpRequest();   // new HttpRequest instance
         xmlhttp.open("POST", "http://localhost:8080/factory/", true);

         xmlhttp.setRequestHeader("Content-Type", "application/json;charset=UTF-8");


         var name = document.getElementById("name");
         var nemployee = document.getElementById("nemployee");
         var hours = document.getElementById("hours");
         var fabrictype = document.getElementById("fabrictype");
         var nmachine = document.getElementById("nmachine");
         var creation = document.getElementById("creation");
         var typeGarmet = document.getElementById("typegarmet");
         var Nunit = document.getElementById("nunit");
         var Unitvalue = document.getElementById("unitvalue");

         var newFactory = {

             "Name": name.value,
             "Nemployee": nemployee.value,
             "HoursWorked": hours.value,
             "fabricType": fabrictype.value,
             "NMachine": nmachine.value,
             "CreationTimeU": creation.value,
             "TypeGarment": typeGarmet.value,
             "Nunit": Nunit.value,
             "UnitValue": Unitvalue.value

         }

         xmlhttp.send(JSON.stringify(newFactory));
     }
</script>>